(function(){var aN,ai,aB,aJ,aL,aD,aq,aa,aP,ae,ax,aF,ao,ak,ag,am,az,aX,aR,aT,ac,av,aM,aH,ay,aV,aO,aK,aG,aj,aA,at,ab,aC,aE,Z,al,af,aQ,aU,aW,ah,ap,ar,aZ,an,ad,au,aw=[].slice,aI={}.hasOwnProperty,aS=function(d,a){function b(){this.constructor=d}for(var c in a){aI.call(a,c)&&(d[c]=a[c])}return b.prototype=a.prototype,d.prototype=new b,d.__super__=a.prototype,d},aY=[].indexOf||function(c){for(var a=0,b=this.length;b>a;a++){if(a in this&&this[a]===c){return a}}return -1};for(ac={catchupTime:100,initialRate:0.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},aG=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},aA=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,aT=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==aA&&(aA=function(a){return setTimeout(a,50)},aT=function(a){return clearTimeout(a)}),ab=function(c){var a,b;return a=aG(),(b=function(){var d;return(d=aG()-a)>=33?(a=aG(),c(d,function(){return aA(b)})):setTimeout(b,33-d)})()},at=function(){var c,a,b;return b=arguments[0],a=arguments[1],c=3<=arguments.length?aw.call(arguments,2):[],"function"==typeof b[a]?b[a].apply(b,c):b[a]},av=function(){var h,a,c,f,g,d,b;for(a=arguments[0],d=0,b=(f=2<=arguments.length?aw.call(arguments,1):[]).length;b>d;d++){if(c=f[d]){for(h in c){aI.call(c,h)&&(g=c[h],null!=a[h]&&"object"==typeof a[h]&&null!=g&&"object"==typeof g?av(a[h],g):a[h]=g)}}}return a},az=function(g){var a,b,d,f,c;for(b=a=0,f=0,c=g.length;c>f;f++){d=g[f],b+=Math.abs(d),a++}return b/a},aH=function(f,a){var b,c,d;if(null==f&&(f="options"),null==a&&(a=!0),d=document.querySelector("[data-pace-"+f+"]")){if(b=d.getAttribute("data-pace-"+f),!a){return b}try{return JSON.parse(b)}catch(f){return c=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",c):void 0}}},aq=function(){function a(){}return a.prototype.on=function(g,b,c,d){var f;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(f=this.bindings)[g]&&(f[g]=[]),this.bindings[g].push({handler:b,ctx:c,once:d})},a.prototype.once=function(d,b,c){return this.on(d,b,c,!0)},a.prototype.off=function(g,b){var c,d,f;if(null!=(null!=(d=this.bindings)?d[g]:void 0)){if(null==b){return delete this.bindings[g]}for(c=0,f=[];c<this.bindings[g].length;){f.push(this.bindings[g][c].handler===b?this.bindings[g].splice(c,1):c++)}return f}},a.prototype.trigger=function(){var k,c,f,h,j,g,d,b,l;if(f=arguments[0],k=2<=arguments.length?aw.call(arguments,1):[],null!=(d=this.bindings)?d[f]:void 0){for(j=0,l=[];j<this.bindings[f].length;){h=(b=this.bindings[f][j]).handler,c=b.ctx,g=b.once,h.apply(null!=c?c:this,k),l.push(g?this.bindings[f].splice(j,1):j++)}return l}},a}(),ae=window.Pace||{},window.Pace=ae,av(ae,aq.prototype),aj=ae.options=av({},ac,window.paceOptions,aH()),ap=0,aZ=(ad=["ajax","document","eventLag","elements"]).length;aZ>ap;ap++){!0===aj[al=ad[ap]]&&(aj[al]=ac[al])}aP=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}return aS(a,b),a}(Error),ai=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var b;if(null==this.el){if(!(b=document.querySelector(aj.target))){throw new aP}this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=b.firstChild?b.insertBefore(this.el,b.firstChild):b.appendChild(this.el)}return this.el},a.prototype.finish=function(){var b;return(b=this.getElement()).className=b.className.replace("pace-active",""),b.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(b){return this.progress=b,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(b){aP=b}return this.el=void 0},a.prototype.render=function(){var j,b,d,g,h,f,c;if(null==document.querySelector(aj.target)){return !1}for(j=this.getElement(),g="translate3d("+this.progress+"%, 0, 0)",h=0,f=(c=["webkitTransform","msTransform","transform"]).length;f>h;h++){b=c[h],j.children[0].style[b]=g}return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(j.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?d="99":(d=this.progress<10?"0":"",d+=0|this.progress),j.children[0].setAttribute("data-progress",""+d)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),aa=function(){function a(){this.bindings={}}return a.prototype.trigger=function(j,b){var d,g,h,f,c;if(null!=this.bindings[j]){for(c=[],g=0,h=(f=this.bindings[j]).length;h>g;g++){d=f[g],c.push(d.call(this,b))}return c}},a.prototype.on=function(d,b){var c;return null==(c=this.bindings)[d]&&(c[d]=[]),this.bindings[d].push(b)},a}(),ah=window.XMLHttpRequest,aW=window.XDomainRequest,aU=window.WebSocket,aM=function(f,a){var b,c,d;for(b in d=[],a.prototype){try{c=a.prototype[b],d.push(null==f[b]&&"function"!=typeof c?f[b]=c:void 0)}catch(f){f}}return d},aO=[],ae.ignore=function(){var c,a,b;return a=arguments[0],c=2<=arguments.length?aw.call(arguments,1):[],aO.unshift("ignore"),b=a.apply(null,c),aO.shift(),b},ae.track=function(){var c,a,b;return a=arguments[0],c=2<=arguments.length?aw.call(arguments,1):[],aO.unshift("track"),b=a.apply(null,c),aO.shift(),b},Z=function(b){var a;if(null==b&&(b="GET"),"track"===aO[0]){return"force"}if(!aO.length&&aj.ajax){if("socket"===b&&aj.ajax.trackWebSockets){return !0}if(a=b.toUpperCase(),aY.call(aj.ajax.trackMethods,a)>=0){return !0}}return !1},ax=function(b){function a(){var d,c=this;a.__super__.constructor.apply(this,arguments),d=function(g){var f;return f=g.open,g.open=function(e,h){return Z(e)&&c.trigger("request",{type:e,url:h,request:g}),f.apply(g,arguments)}},window.XMLHttpRequest=function(f){var g;return g=new ah(f),d(g),g};try{aM(window.XMLHttpRequest,ah)}catch(d){}if(null!=aW){window.XDomainRequest=function(){var f;return f=new aW,d(f),f};try{aM(window.XDomainRequest,aW)}catch(d){}}if(null!=aU&&aj.ajax.trackWebSockets){window.WebSocket=function(h,f){var g;return g=null!=f?new aU(h,f):new aU(h),Z("socket")&&c.trigger("request",{type:"socket",url:h,protocols:f,request:g}),g};try{aM(window.WebSocket,aU)}catch(d){}}}return aS(a,aa),a}(),ar=null,aE=function(f){var a,b,c,d;for(b=0,c=(d=aj.ajax.ignoreURLs).length;c>b;b++){if("string"==typeof(a=d[b])){if(-1!==f.indexOf(a)){return !0}}else{if(a.test(f)){return !0}}}return !1},(ay=function(){return null==ar&&(ar=new ax),ar})().on("request",function(a){var c,f,g,d,b;return d=a.type,g=a.request,b=a.url,aE(b)?void 0:ae.running||!1===aj.restartOnRequestAfter&&"force"!==Z(d)?void 0:(f=arguments,"boolean"==typeof(c=aj.restartOnRequestAfter||0)&&(c=0),setTimeout(function(){var j,l,k,h,m;if("socket"===d?g.readyState<2:0<(k=g.readyState)&&4>k){for(ae.restart(),m=[],j=0,l=(h=ae.sources).length;l>j;j++){if((al=h[j]) instanceof aN){al.watch.apply(al,f);break}m.push(void 0)}return m}},c))}),aN=function(){function a(){var b=this;this.elements=[],ay().on("request",function(){return b.watch.apply(b,arguments)})}return a.prototype.watch=function(g){var b,c,d,f;return d=g.type,b=g.request,f=g.url,aE(f)?void 0:(c="socket"===d?new ak(b):new ag(b),this.elements.push(c))},a}(),ag=function(){return function(h){var a,c,f,g,d,b=this;if(this.progress=0,null!=window.ProgressEvent){for(h.addEventListener("progress",function(e){return b.progress=e.lengthComputable?100*e.loaded/e.total:b.progress+(100-b.progress)/2},!1),c=0,f=(d=["load","abort","timeout","error"]).length;f>c;c++){a=d[c],h.addEventListener(a,function(){return b.progress=100},!1)}}else{g=h.onreadystatechange,h.onreadystatechange=function(){var i;return 0===(i=h.readyState)||4===i?b.progress=100:3===h.readyState&&(b.progress=50),"function"==typeof g?g.apply(null,arguments):void 0}}}}(),ak=function(){return function(g){var a,b,d,f,c=this;for(this.progress=0,b=0,d=(f=["error","open"]).length;d>b;b++){a=f[b],g.addEventListener(a,function(){return c.progress=100},!1)}}}(),aJ=function(){return function(f){var a,b,d,c;for(null==f&&(f={}),this.elements=[],null==f.selectors&&(f.selectors=[]),b=0,d=(c=f.selectors).length;d>b;b++){a=c[b],this.elements.push(new aL(a))}}}(),aL=function(){function a(b){this.selector=b,this.progress=0,this.check()}return a.prototype.check=function(){var b=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return b.check()},aj.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),aB=function(){function a(){var d,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,d=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof d?d.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),aD=function(){return function(){var g,a,b,d,f,c=this;this.progress=0,g=0,f=[],d=0,b=aG(),a=setInterval(function(){var e;return e=aG()-b-50,b=aG(),f.push(e),f.length>aj.eventLag.sampleCount&&f.shift(),g=az(f),++d>=aj.eventLag.minSamples&&g<aj.eventLag.lagThreshold?(c.progress=100,clearInterval(a)):c.progress=3/(g+3)*100},50)}}(),ao=function(){function a(b){this.source=b,this.last=this.sinceLastUpdate=0,this.rate=aj.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=at(this.source,"progress"))}return a.prototype.tick=function(d,b){var c;return null==b&&(b=at(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=d:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/aj.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*d),c=1-Math.pow(this.progress/100,aj.easeFactor),this.progress+=c*this.rate*d,this.progress=Math.min(this.lastProgress+aj.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),af=null,aC=null,aX=null,aQ=null,am=null,aR=null,ae.running=!1,aV=function(){return aj.restartOnPushState?ae.restart():void 0},null!=window.history.pushState&&(an=window.history.pushState,window.history.pushState=function(){return aV(),an.apply(window.history,arguments)}),null!=window.history.replaceState&&(au=window.history.replaceState,window.history.replaceState=function(){return aV(),au.apply(window.history,arguments)}),aF={ajax:aN,elements:aJ,document:aB,eventLag:aD},(aK=function(){var h,d,f,g,e,c,b,j;for(ae.sources=af=[],d=0,g=(c=["ajax","elements","document","eventLag"]).length;g>d;d++){!1!==aj[h=c[d]]&&af.push(new aF[h](aj[h]))}for(f=0,e=(j=null!=(b=aj.extraSources)?b:[]).length;e>f;f++){al=j[f],af.push(new al(aj))}return ae.bar=aX=new ai,aC=[],aQ=new ao})(),ae.stop=function(){return ae.trigger("stop"),ae.running=!1,aX.destroy(),aR=!0,null!=am&&("function"==typeof aT&&aT(am),am=null),aK()},ae.restart=function(){return ae.trigger("restart"),ae.stop(),ae.start()},ae.go=function(){var a;return ae.running=!0,aX.render(),a=aG(),aR=!1,am=ab(function(q,B){var E,F,C,x,c,G,z,D,t,j,v,A,H,h,y;for(100-aX.progress,F=j=0,C=!0,G=v=0,H=af.length;H>v;G=++v){for(al=af[G],t=null!=aC[G]?aC[G]:aC[G]=[],z=A=0,h=(c=null!=(y=al.elements)?y:[al]).length;h>A;z=++A){x=c[z],C&=(D=null!=t[z]?t[z]:t[z]=new ao(x)).done,D.done||(F++,j+=D.tick(q))}}return E=j/F,aX.update(aQ.tick(q,E)),aX.done()||C||aR?(aX.update(100),ae.trigger("done"),setTimeout(function(){return aX.finish(),ae.running=!1,ae.trigger("hide")},Math.max(aj.ghostTime,Math.max(aj.minTime-(aG()-a),0)))):B()})},ae.start=function(a){av(aj,a),ae.running=!0;try{aX.render()}catch(a){aP=a}return document.querySelector(".pace")?(ae.trigger("start"),ae.go()):setTimeout(ae.start,50)},"function"==typeof define&&define.amd?define(function(){return ae}):"object"==typeof exports?module.exports=ae:aj.startOnPageLoad&&ae.start()}).call(this);